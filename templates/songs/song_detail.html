{% extends "base.html" %}

{% block content %}
<div class="card">
    <div class="container text-center">
        <div class="row">
            <div class="col-sm-3">
                <img src="{{songs.thumbnail}}" class="img-fluid rounded-start" alt="{{ song.title }} thumbnail">
            </div>
        </div>
        <div class="col-sm-9">
            <div class="row">
                <div class="col-10 col-sm-6">
                    <h4 class="card-title">{{song.title}}</h4>
                    <h6 class="card-subtitle text-muted">노래 설명</h6>
                    <audio controls class="w-30">
                        <source src="{{song.mp3}}" type="audio/mpeg">
                    </audio>
                    <p class="card-text">노래길이</p>
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary">찜</button>
                        <button type="button" class="btn btn-primary">좋아요</button>
                    </div>
                </div>
                <div class="col-2 col-sm-6">
                    <div class="btn-group-vertical">
                        <button type="button" class="btn btn-primary">{{song.genre}}</button>
                        <div class="btn-group dropend" role="group">
                            <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                              tags
                            </button>
                            <ul class="dropdown-menu">
                                {% if song.tags.all %}
                                <li>
                                  {% for tag in song.tags.all %}
                                    <button class="btn btn-primary" id="tag-{{ tag.id }}">{{ tag.name }}</button>
                                  {% endfor %}
                                </li>
                              {% endif %}                            </ul>
                          </div>
                        <button type="button" class="btn btn-primary">{{song.tempo}}</button>
                        <button type="button" class="btn btn-primary">팔로우</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="comment-area">
    <div class="card my-4">
        <h5 class="card-header"> 댓글을 남겨보세요!</h5>
        <div class="card-body">
            <form>
                <div class="form-group">
                    <textarea class="form-control" row="3"></textarea>
                </div>
                <button type="submit" class="btn btn-primary">작성완료</button>
            </form>
        </div>
    </div>
    {% if accounts.comment_set.exists %}
        {% for comment in accounts.comment_set.iterator %}
            <!-- Single Comment -->
            <div class="media mb-4" id="comment-{{ comment.pk }}">
                <img class="d-flex mr-3 rounded-circle" src="..." alt="">
                <div class="media-body">
                    <!--"작성자 이름  날짜" 및 내용 출력-->
                    <h5 class="mt-0">{{ accounts.author.username }} &nbsp;&nbsp;<small class="text-muted">{{ accounts.created_at }}</small>
                    </h5>
                    <p>{{ accounts.content | linebreaks }}</p>
                </div>
            </div>
        {% endfor %}
    {% endif %}
</div>
<hr/>

{% endblock %}